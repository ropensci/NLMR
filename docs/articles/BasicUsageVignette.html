<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Basic Usage of NLMR • NLMR</title>
<!-- jquery --><script src="https://code.jquery.com/jquery-3.1.0.min.js" integrity="sha384-nrOSfDHtoPMzJHjVTdCopGqIqeYETSXhZDFyniQ8ZHcVy08QesyHcnOUpMpqnmWq" crossorigin="anonymous"></script><!-- Bootstrap --><link href="https://maxcdn.bootstrapcdn.com/bootswatch/3.3.7/yeti/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous">
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script><!-- Font Awesome icons --><link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.6.3/css/font-awesome.min.css" rel="stylesheet" integrity="sha384-T8Gy5hrqNKT+hzMclPo118YTQO6cYprQmhrYwIiQ/3axmI1hQomh7Ud2hPOy8SP1" crossorigin="anonymous">
<!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet">
<script src="../jquery.sticky-kit.min.js"></script><script src="../pkgdown.js"></script><!-- mathjax --><script src="https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body>
    <div class="container template-vignette">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand" href="../index.html">NLMR | Neutral landscape models with R</a>
    </div>
    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    <span class="fa fa-graduation-cap"></span>
     
    How To
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="../articles/background.html">NLM Concepts + Terminology</a>
    </li>
    <li>
      <a href="../articles/bestiary.html">NLMR Bestiary</a>
    </li>
    <li>
      <a href="../articles/BasicUsageVignette.html">Quickstart Guide</a>
    </li>
  </ul>
</li>
<li>
  <a href="../articles/publication_record.html">
    <span class="fa fa-file-text-o"></span>
     
    Publication Record
  </a>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right">
<li>
  <a href="../articles/faq.html">
    <span class="fa fa-question-circle-o"></span>
     
    faq
  </a>
</li>
<li>
  <a href="../news/index.html">
    <span class="fa fa-newspaper-o"></span>
     
    news
  </a>
</li>
<li>
  <a href="../reference/index.html">
    <span class="fa fa-gears"></span>
     
    functions
  </a>
</li>
<li>
  <a href="https://github.com/marcosci/NLMR">
    <span class="fa fa-github fa-lg"></span>
     
    github
  </a>
</li>
      </ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      
      </header><div class="row">
  <div class="col-md-9">
    <div class="page-header toc-ignore">
      <h1>Basic Usage of NLMR</h1>
                        <h4 class="author">Marco Sciaini &amp; Craig E.Simpkins</h4>
            
            <h4 class="date">2017-12-04</h4>
          </div>

    
    
<div class="contents">
<p><code>NLMR</code> is a <code>R</code> package designed to generate neutral landscape models (NLMs), simulated landscapes used to explore landscape scale ecological patterns and processes. The <code>NLMR</code> package was designed with a similar philosophy to the Python package <code>NLMpy</code> <span class="citation">(see Etherington, Holland, and O’Sullivan 2014)</span>, offering a general numeric framework allowing for a high degree of flexibility. Most of the common NLMs, as described by the relevant literature, can be produced using NLMR. Additionally, NLMR allows users to blend multiple landscapes, classify landscape elements categorically and measure basic landscape level metrics. All NLMs produced take the form of two-dimensional raster arrays with specified row and column dimensions and cell values ranging between 0 and 1. By returning raster arrays, NLMs are easily integrated into the workflow of many useful spatial analysis packages, notably the <code>raster</code> package.</p>
<div id="basic-landscape-generation" class="section level2">
<h2 class="hasAnchor">
<a href="#basic-landscape-generation" class="anchor"></a>Basic landscape generation</h2>
<p><code>NLMR</code> supplies 16 NLM algorithms. The algorithms differ from each other in spatial auto-correlation, from no auto-correlation (random NLM) to a constant gradient (planar gradients) <span class="citation">(see Palmer 1992)</span>.</p>
<p>The 16 NLM algorithms are:</p>
<ol style="list-style-type: decimal">
<li>distance gradient</li>
<li>edge gradient<br>
</li>
<li>hierarchical curdling</li>
<li>midpoint displacement</li>
<li>neighbourhood clustering</li>
<li>planar gradient<br>
</li>
<li>random<br>
</li>
<li>random cluster nearest-neighbour</li>
<li>random curdling</li>
<li>random element</li>
<li>random mosaic fields</li>
<li>random polygonal landscapes</li>
<li>random percolation<br>
</li>
<li>random rectangular cluster</li>
<li>spatially correlated random fields (Gaussian random fields)<br>
</li>
<li>two-dimensional fractional Brownian motion</li>
</ol>
<p>The basic syntax used to produce a NLM landscape is:</p>
<pre><code>nlm_modeltype(nCol, nRow, resolution, ...)</code></pre>
<p>For example, to produce a simple random neutral landscape one could use the following code:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"> x &lt;-<span class="st"> </span>NLMR<span class="op">::</span><span class="kw"><a href="http://www.rdocumentation.org/packages/NLMR/topics/nlm_random">nlm_random</a></span>(<span class="dv">20</span>,<span class="dv">20</span>)
 NLMR<span class="op">::</span><span class="kw"><a href="http://www.rdocumentation.org/packages/NLMR/topics/util_plot">util_plot</a></span>(x)</code></pre></div>
<p><img src="BasicUsageVignette_files/figure-html/unnamed-chunk-1-1.png" width="672" style="display: block; margin: auto;"></p>
</div>
<div id="blending-landscapes" class="section level2">
<h2 class="hasAnchor">
<a href="#blending-landscapes" class="anchor"></a>Blending landscapes</h2>
<p>Multiple NLM rasters can be blended or merged together to create new landscape patterns. A single primary or base raster can be blended with any number of additional secondary rasters, with optional scaling factors used to control the influence of the secondary rasters.</p>
<p>The <code>util_merge</code> function is used to blend the rasters as in the example below:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">  <span class="co">#Create primary landscape raster</span>
  pL &lt;-<span class="st"> </span>NLMR<span class="op">::</span><span class="kw"><a href="http://www.rdocumentation.org/packages/NLMR/topics/nlm_edgegradient">nlm_edgegradient</a></span>(<span class="dt">nCol =</span> <span class="dv">100</span>,
                              <span class="dt">nRow =</span> <span class="dv">100</span>)

  NLMR<span class="op">::</span><span class="kw"><a href="http://www.rdocumentation.org/packages/NLMR/topics/util_plot">util_plot</a></span>(pL)</code></pre></div>
<p><img src="BasicUsageVignette_files/figure-html/unnamed-chunk-2-1.png" width="672" style="display: block; margin: auto;"></p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">  <span class="co">#Create secondary landscape rasters</span>
  sL1 &lt;-<span class="st"> </span>NLMR<span class="op">::</span><span class="kw"><a href="http://www.rdocumentation.org/packages/NLMR/topics/nlm_distancegradient">nlm_distancegradient</a></span>(<span class="dt">nCol =</span> <span class="dv">100</span>,
                                    <span class="dt">nRow =</span> <span class="dv">100</span>,
                                    <span class="dt">origin =</span> <span class="kw">c</span>(<span class="dv">10</span>, <span class="dv">10</span>, <span class="dv">10</span>, <span class="dv">10</span>))
  sL2 &lt;-<span class="st"> </span>NLMR<span class="op">::</span><span class="kw"><a href="http://www.rdocumentation.org/packages/NLMR/topics/nlm_random">nlm_random</a></span>(<span class="dt">nCol =</span> <span class="dv">100</span>,
                          <span class="dt">nRow =</span> <span class="dv">100</span>)

  mL1 &lt;-<span class="st"> </span>NLMR<span class="op">::</span><span class="kw"><a href="http://www.rdocumentation.org/packages/NLMR/topics/util_merge">util_merge</a></span>(pL,
                          <span class="kw">c</span>(sL1, sL2),
                          <span class="dt">scalingfactor =</span> <span class="dv">1</span>)
  
  NLMR<span class="op">::</span><span class="kw"><a href="http://www.rdocumentation.org/packages/NLMR/topics/util_plot">util_plot</a></span>(mL1)</code></pre></div>
<p><img src="BasicUsageVignette_files/figure-html/unnamed-chunk-2-2.png" width="672" style="display: block; margin: auto;"></p>
</div>
<div id="classifying-categories" class="section level2">
<h2 class="hasAnchor">
<a href="#classifying-categories" class="anchor"></a>Classifying categories</h2>
<p>Landscape rasters generated by <code>NLMR</code> contain continuous values between 0 and 1, though these can be converted into categorical values using <code>util_classify</code>. The number of classes and the proportion of the NLM raster assigned to each class is determined using a <code>weighting</code> vector. If the weighting vector does not sum to 1, the sum of the weightings is divided by the number of vector elements and these are used to define the class proportions. By default classes are numerical starting from 1. If non-numerical levels are required, <code>level_names</code> can be specified. These classes can be plotted by selecting <code>discrete = TRUE</code> in <code>util_plot</code>. The number of cells contained by each class can be calculated using <code>metric_area</code>.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">nr &lt;-<span class="st"> </span>NLMR<span class="op">::</span><span class="kw"><a href="http://www.rdocumentation.org/packages/NLMR/topics/nlm_randomcluster">nlm_randomcluster</a></span>(<span class="dt">nCol =</span> <span class="dv">50</span>,
                              <span class="dt">nRow =</span> <span class="dv">50</span>,
                              <span class="dt">resolution =</span> <span class="dv">1</span>,
                              <span class="dt">neighbourhood =</span> <span class="dv">4</span>,
                              <span class="dt">p =</span> <span class="fl">0.5</span>)</code></pre></div>
<pre><code>## Loading required namespace: deldir</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">weighting &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="fl">0.5</span>, <span class="fl">0.25</span>, <span class="fl">0.25</span>)

cr &lt;-<span class="st"> </span>NLMR<span class="op">::</span><span class="kw"><a href="http://www.rdocumentation.org/packages/NLMR/topics/util_classify">util_classify</a></span>(nr,
                          <span class="dt">weighting =</span> weighting,
                          <span class="dt">level_names =</span> <span class="kw">c</span>(<span class="st">"L1"</span>, <span class="st">"L2"</span>, <span class="st">"L3"</span>))

NLMR<span class="op">::</span><span class="kw"><a href="http://www.rdocumentation.org/packages/NLMR/topics/util_plot">util_plot</a></span>(cr, <span class="dt">discrete =</span> <span class="ot">TRUE</span>)</code></pre></div>
<p><img src="BasicUsageVignette_files/figure-html/unnamed-chunk-3-1.png" width="672" style="display: block; margin: auto;"></p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">NLMR<span class="op">::</span><span class="kw"><a href="http://www.rdocumentation.org/packages/NLMR/topics/metric_area">metric_area</a></span>(cr)</code></pre></div>
<pre><code>## $Total_Area
## # A tibble: 6 x 2
##   count class
##   &lt;dbl&gt; &lt;lgl&gt;
## 1    NA    NA
## 2    NA    NA
## 3    NA    NA
## 4    NA    NA
## 5    NA    NA
## 6    NA    NA
## 
## $Proportion_Area
##   count class
## 1    NA    NA
## 2    NA    NA
## 3    NA    NA
## 4    NA    NA
## 5    NA    NA
## 6    NA    NA</code></pre>
</div>
<div id="handling-raster-objects-in-r" class="section level2">
<h2 class="hasAnchor">
<a href="#handling-raster-objects-in-r" class="anchor"></a>Handling Raster* Objects in R</h2>
<div id="basics" class="section level3">
<h3 class="hasAnchor">
<a href="#basics" class="anchor"></a>Basics</h3>
<p>The <code>raster</code> package, the major framework for <code>NLMR</code>, is built around a number of classes, most importantly the <code>RasterLayer</code>, <code>RasterBrick</code>, and <code>RasterStack</code> classes. The latter two basically comprising collections of multiple <code>RasterLayers</code> with the same spatial extent and resolution.</p>
<p>A <code>RasterLayer</code> is defined by its spatial dimensions (number of rows, number of columns and resulting number of cells) and its spatial extent. These two parameters define the spatial resolution of the layer.</p>
<p>A <code>RasterLayer</code> can be manually created as follows:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">library</span>(raster)
r &lt;-<span class="st"> </span><span class="kw"><a href="http://www.rdocumentation.org/packages/raster/topics/raster">raster</a></span>(<span class="dt">ncol=</span><span class="dv">10</span>, <span class="dt">nrow=</span><span class="dv">10</span>, <span class="dt">xmn=</span><span class="dv">0</span>, <span class="dt">xmx=</span><span class="dv">100</span>, <span class="dt">ymn=</span><span class="dv">0</span>, <span class="dt">ymx=</span><span class="dv">100</span>)
r</code></pre></div>
<pre><code>## class       : RasterLayer 
## dimensions  : 10, 10, 100  (nrow, ncol, ncell)
## resolution  : 10, 10  (x, y)
## extent      : 0, 100, 0, 100  (xmin, xmax, ymin, ymax)
## coord. ref. : NA</code></pre>
<p>However, the raster created is empty, the cells containing no values. We can add values using the following code:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw"><a href="http://www.rdocumentation.org/packages/raster/topics/getValues">values</a></span>(r) &lt;-<span class="st"> </span><span class="kw">runif</span>(<span class="kw"><a href="http://www.rdocumentation.org/packages/raster/topics/ncell">ncell</a></span>(r))
r</code></pre></div>
<pre><code>## class       : RasterLayer 
## dimensions  : 10, 10, 100  (nrow, ncol, ncell)
## resolution  : 10, 10  (x, y)
## extent      : 0, 100, 0, 100  (xmin, xmax, ymin, ymax)
## coord. ref. : NA 
## data source : in memory
## names       : layer 
## values      : 0.002658622, 0.9974238  (min, max)</code></pre>
<p>By running the above code we have just created one of the most simple NLMs - a completely random landscape.</p>
<p>To visually examine the created <code>RasterLayer</code>, we can use <code>raster</code>’s built-in plotting function ( <small> but recommend to the use of NLMR::util_plot, for aesthetic and viridis reasons </small>):</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw"><a href="http://www.rdocumentation.org/packages/raster/topics/plot">plot</a></span>(r)</code></pre></div>
<p><img src="BasicUsageVignette_files/figure-html/unnamed-chunk-4-1.png" width="672" style="display: block; margin: auto;"></p>
<p>In landscape ecology it is quite usual to try and infer ecological dynamics using multiple environmental datasets derived from the same geographical area. The <code>raster</code> packages uses <code>RasterStack</code> and <code>RasterBrick</code> for this kind of multi-layer data.</p>
<p><code>RasterStack</code> is basically a list of <code>RasterLayer</code> with the same spatial extent and resolution. <code>RasterBrick</code>, however, is a truly multi-layered object. This means that all layer share a single reference for dimensions and extent (which often results in it being more efficient to process a <code>RasterBrick</code> than a <code>RasterStack</code>).</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">r2 &lt;-<span class="st"> </span>r <span class="op">*</span><span class="st"> </span>(<span class="kw">abs</span>(<span class="fl">0.5</span> <span class="op">-</span><span class="st"> </span>r) <span class="op">*</span><span class="st"> </span><span class="op">-</span><span class="dv">2</span>) <span class="op">+</span><span class="st"> </span><span class="dv">1</span>
r3  &lt;-<span class="st"> </span>NLMR<span class="op">::</span><span class="kw"><a href="http://www.rdocumentation.org/packages/NLMR/topics/util_classify">util_classify</a></span>(r, <span class="kw">c</span>(<span class="fl">0.5</span>, <span class="fl">0.5</span>))
s &lt;-<span class="st"> </span><span class="kw"><a href="http://www.rdocumentation.org/packages/raster/topics/stack">stack</a></span>(r, r2, r3)
s</code></pre></div>
<pre><code>## class       : RasterStack 
## dimensions  : 10, 10, 100, 3  (nrow, ncol, ncell, nlayers)
## resolution  : 10, 10  (x, y)
## extent      : 0, 100, 0, 100  (xmin, xmax, ymin, ymax)
## coord. ref. : NA 
## names       :     layer.1,     layer.2,     layer.3 
## min values  : 0.002658622, 0.007715336, 0.002658622 
## max values  :   0.9974238,   0.9973555,   0.9974238</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw"><a href="http://www.rdocumentation.org/packages/raster/topics/plot">plot</a></span>(s)</code></pre></div>
<p><img src="BasicUsageVignette_files/figure-html/unnamed-chunk-5-1.png" width="672" style="display: block; margin: auto;"></p>
</div>
<div id="manipulation" class="section level3">
<h3 class="hasAnchor">
<a href="#manipulation" class="anchor"></a>Manipulation</h3>
<div id="dimensions-resolution-and-extent" class="section level4">
<h4 class="hasAnchor">
<a href="#dimensions-resolution-and-extent" class="anchor"></a>Dimensions, resolution and extent</h4>
<p>The dimensions, resolution and extent of a <code>Raster*</code> object can be changed:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">r &lt;-<span class="st"> </span><span class="kw"><a href="http://www.rdocumentation.org/packages/raster/topics/raster">raster</a></span>(<span class="dt">ncol=</span><span class="dv">10</span>, <span class="dt">nrow=</span><span class="dv">10</span>, <span class="dt">xmn=</span><span class="dv">0</span>, <span class="dt">xmx=</span><span class="dv">100</span>, <span class="dt">ymn=</span><span class="dv">0</span>, <span class="dt">ymx=</span><span class="dv">100</span>)
<span class="kw"><a href="http://www.rdocumentation.org/packages/raster/topics/dimensions">dim</a></span>(r)</code></pre></div>
<pre><code>## [1] 10 10  1</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw"><a href="http://www.rdocumentation.org/packages/raster/topics/ncell">ncol</a></span>(r) &lt;-<span class="st"> </span><span class="dv">42</span>
<span class="kw"><a href="http://www.rdocumentation.org/packages/raster/topics/dimensions">dim</a></span>(r)</code></pre></div>
<pre><code>## [1] 10 42  1</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">r &lt;-<span class="st"> </span><span class="kw"><a href="http://www.rdocumentation.org/packages/raster/topics/raster">raster</a></span>(<span class="dt">ncol=</span><span class="dv">10</span>, <span class="dt">nrow=</span><span class="dv">10</span>, <span class="dt">xmn=</span><span class="dv">0</span>, <span class="dt">xmx=</span><span class="dv">100</span>, <span class="dt">ymn=</span><span class="dv">0</span>, <span class="dt">ymx=</span><span class="dv">100</span>)
<span class="kw"><a href="http://www.rdocumentation.org/packages/raster/topics/resolution">res</a></span>(r)</code></pre></div>
<pre><code>## [1] 10 10</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw"><a href="http://www.rdocumentation.org/packages/raster/topics/resolution">res</a></span>(r) &lt;-<span class="st"> </span><span class="dv">42</span>
<span class="kw"><a href="http://www.rdocumentation.org/packages/raster/topics/resolution">res</a></span>(r)</code></pre></div>
<pre><code>## [1] 42 42</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">r &lt;-<span class="st"> </span><span class="kw"><a href="http://www.rdocumentation.org/packages/raster/topics/raster">raster</a></span>(<span class="dt">ncol=</span><span class="dv">10</span>, <span class="dt">nrow=</span><span class="dv">10</span>, <span class="dt">xmn=</span><span class="dv">0</span>, <span class="dt">xmx=</span><span class="dv">100</span>, <span class="dt">ymn=</span><span class="dv">0</span>, <span class="dt">ymx=</span><span class="dv">100</span>)
<span class="kw"><a href="http://www.rdocumentation.org/packages/raster/topics/extent">extent</a></span>(r)</code></pre></div>
<pre><code>## class       : Extent 
## xmin        : 0 
## xmax        : 100 
## ymin        : 0 
## ymax        : 100</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw"><a href="http://www.rdocumentation.org/packages/raster/topics/extent">extent</a></span>(r) &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="dv">0</span>, <span class="dv">42</span>, <span class="dv">0</span>, <span class="dv">42</span>)
<span class="kw"><a href="http://www.rdocumentation.org/packages/raster/topics/extent">extent</a></span>(r)</code></pre></div>
<pre><code>## class       : Extent 
## xmin        : 0 
## xmax        : 42 
## ymin        : 0 
## ymax        : 42</code></pre>
</div>
<div id="raster-algebra" class="section level4">
<h4 class="hasAnchor">
<a href="#raster-algebra" class="anchor"></a>Raster algebra</h4>
<p>As long as the first argument of your algebra operation is a <code>Raster*</code> object, you can use most of the <code>R</code> functions to transform your raster.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">r &lt;-<span class="st"> </span><span class="kw"><a href="http://www.rdocumentation.org/packages/raster/topics/raster">raster</a></span>(<span class="dt">ncol=</span><span class="dv">10</span>, <span class="dt">nrow=</span><span class="dv">10</span>)
<span class="kw"><a href="http://www.rdocumentation.org/packages/raster/topics/getValues">values</a></span>(r) &lt;-<span class="st"> </span><span class="dv">1</span><span class="op">:</span><span class="kw"><a href="http://www.rdocumentation.org/packages/raster/topics/ncell">ncell</a></span>(r)

<span class="co"># do some math</span>
s &lt;-<span class="st"> </span><span class="kw">sqrt</span>(r)
s &lt;-<span class="st"> </span>s <span class="op">*</span><span class="st"> </span>r <span class="op">+</span><span class="st"> </span><span class="dv">5</span></code></pre></div>
<p>… or replace values in a raster:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">r &lt;-<span class="st"> </span><span class="kw"><a href="http://www.rdocumentation.org/packages/raster/topics/raster">raster</a></span>(<span class="dt">ncol=</span><span class="dv">5</span>, <span class="dt">nrow=</span><span class="dv">5</span>)
<span class="kw"><a href="http://www.rdocumentation.org/packages/raster/topics/getValues">values</a></span>(r) &lt;-<span class="st"> </span><span class="dv">1</span><span class="op">:</span><span class="kw"><a href="http://www.rdocumentation.org/packages/raster/topics/ncell">ncell</a></span>(r)

r[s <span class="op">==</span><span class="st"> </span><span class="kw">c</span>(<span class="dv">1</span>,<span class="dv">3</span>,<span class="dv">5</span>,<span class="dv">9</span>,<span class="dv">13</span>)] &lt;-<span class="st"> </span><span class="dv">45</span>
r</code></pre></div>
<pre><code>## class       : RasterLayer 
## dimensions  : 5, 5, 25  (nrow, ncol, ncell)
## resolution  : 72, 36  (x, y)
## extent      : -180, 180, -90, 90  (xmin, xmax, ymin, ymax)
## coord. ref. : +proj=longlat +datum=WGS84 +ellps=WGS84 +towgs84=0,0,0 
## data source : in memory
## names       : layer 
## values      : 1, 25  (min, max)</code></pre>
</div>
<div id="high-level-raster-functions" class="section level4">
<h4 class="hasAnchor">
<a href="#high-level-raster-functions" class="anchor"></a>‘High-level’ raster functions</h4>
<p>The <code>raster</code> package provides all the functions that would expected from a typical GIS software.</p>
<p>Some examples are:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">r &lt;-<span class="st"> </span><span class="kw"><a href="http://www.rdocumentation.org/packages/raster/topics/raster">raster</a></span>(<span class="dt">ncol=</span><span class="dv">100</span>, <span class="dt">nrow=</span><span class="dv">100</span>)
<span class="kw"><a href="http://www.rdocumentation.org/packages/raster/topics/getValues">values</a></span>(r) &lt;-<span class="st"> </span><span class="dv">1</span><span class="op">:</span><span class="kw"><a href="http://www.rdocumentation.org/packages/raster/topics/ncell">ncell</a></span>(r)

<span class="co"># aggregate/disaggregate raster</span>
ra &lt;-<span class="st"> </span><span class="kw"><a href="http://www.rdocumentation.org/packages/raster/topics/aggregate">aggregate</a></span>(r, <span class="dv">20</span>)
rd &lt;-<span class="st"> </span><span class="kw"><a href="http://www.rdocumentation.org/packages/raster/topics/disaggregate">disaggregate</a></span>(ra, <span class="dv">20</span>)
<span class="kw">par</span>(<span class="dt">mfrow=</span><span class="kw">c</span>(<span class="dv">1</span>,<span class="dv">2</span>))
<span class="kw"><a href="http://www.rdocumentation.org/packages/raster/topics/plot">plot</a></span>(ra)
<span class="kw"><a href="http://www.rdocumentation.org/packages/raster/topics/plot">plot</a></span>(rd)</code></pre></div>
<p><img src="BasicUsageVignette_files/figure-html/unnamed-chunk-11-1.png" width="672" style="display: block; margin: auto;"></p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">r &lt;-<span class="st"> </span><span class="kw"><a href="http://www.rdocumentation.org/packages/raster/topics/raster">raster</a></span>(<span class="dt">ncol=</span><span class="dv">100</span>, <span class="dt">nrow=</span><span class="dv">100</span>)
<span class="kw"><a href="http://www.rdocumentation.org/packages/raster/topics/getValues">values</a></span>(r) &lt;-<span class="st"> </span><span class="dv">1</span><span class="op">:</span><span class="kw"><a href="http://www.rdocumentation.org/packages/raster/topics/ncell">ncell</a></span>(r)

<span class="co"># crop and merge</span>
r1 &lt;-<span class="st"> </span><span class="kw"><a href="http://www.rdocumentation.org/packages/raster/topics/crop">crop</a></span>(r, <span class="kw"><a href="http://www.rdocumentation.org/packages/raster/topics/extent">extent</a></span>(<span class="op">-</span><span class="dv">50</span>,<span class="dv">0</span>,<span class="dv">0</span>,<span class="dv">30</span>))
r2 &lt;-<span class="st"> </span><span class="kw"><a href="http://www.rdocumentation.org/packages/raster/topics/crop">crop</a></span>(r, <span class="kw"><a href="http://www.rdocumentation.org/packages/raster/topics/extent">extent</a></span>(<span class="op">-</span><span class="dv">10</span>,<span class="dv">50</span>,<span class="op">-</span><span class="dv">20</span>, <span class="dv">10</span>))
m &lt;-<span class="st"> </span><span class="kw"><a href="http://www.rdocumentation.org/packages/raster/topics/merge">merge</a></span>(r1, r2)
<span class="kw"><a href="http://www.rdocumentation.org/packages/raster/topics/plot">plot</a></span>(m)</code></pre></div>
<p><img src="BasicUsageVignette_files/figure-html/unnamed-chunk-12-1.png" width="672" style="display: block; margin: auto;"> ### Assessing raster object slots</p>
<p>All <code>Raster*</code> objects share common slots to store information. Perhaps the most interesting (the values) can be accessed via:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">r &lt;-<span class="st"> </span><span class="kw"><a href="http://www.rdocumentation.org/packages/raster/topics/raster">raster</a></span>(<span class="dt">ncol=</span><span class="dv">10</span>, <span class="dt">nrow=</span><span class="dv">10</span>)
<span class="kw"><a href="http://www.rdocumentation.org/packages/raster/topics/getValues">values</a></span>(r) &lt;-<span class="st"> </span><span class="dv">1</span><span class="op">:</span><span class="kw"><a href="http://www.rdocumentation.org/packages/raster/topics/ncell">ncell</a></span>(r)

<span class="co"># access the values via @</span>
r<span class="op">@</span>data<span class="op">@</span>values</code></pre></div>
<pre><code>##   [1]   1   2   3   4   5   6   7   8   9  10  11  12  13  14  15  16  17
##  [18]  18  19  20  21  22  23  24  25  26  27  28  29  30  31  32  33  34
##  [35]  35  36  37  38  39  40  41  42  43  44  45  46  47  48  49  50  51
##  [52]  52  53  54  55  56  57  58  59  60  61  62  63  64  65  66  67  68
##  [69]  69  70  71  72  73  74  75  76  77  78  79  80  81  82  83  84  85
##  [86]  86  87  88  89  90  91  92  93  94  95  96  97  98  99 100</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># ... or by treating the raster like a vector</span>
r[]</code></pre></div>
<pre><code>##   [1]   1   2   3   4   5   6   7   8   9  10  11  12  13  14  15  16  17
##  [18]  18  19  20  21  22  23  24  25  26  27  28  29  30  31  32  33  34
##  [35]  35  36  37  38  39  40  41  42  43  44  45  46  47  48  49  50  51
##  [52]  52  53  54  55  56  57  58  59  60  61  62  63  64  65  66  67  68
##  [69]  69  70  71  72  73  74  75  76  77  78  79  80  81  82  83  84  85
##  [86]  86  87  88  89  90  91  92  93  94  95  96  97  98  99 100</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># this vector can then be coerced to a matrix:</span>
<span class="kw">matrix</span>(r[], <span class="kw"><a href="http://www.rdocumentation.org/packages/raster/topics/ncell">nrow</a></span>(r), <span class="kw"><a href="http://www.rdocumentation.org/packages/raster/topics/ncell">ncol</a></span>(r))</code></pre></div>
<pre><code>##       [,1] [,2] [,3] [,4] [,5] [,6] [,7] [,8] [,9] [,10]
##  [1,]    1   11   21   31   41   51   61   71   81    91
##  [2,]    2   12   22   32   42   52   62   72   82    92
##  [3,]    3   13   23   33   43   53   63   73   83    93
##  [4,]    4   14   24   34   44   54   64   74   84    94
##  [5,]    5   15   25   35   45   55   65   75   85    95
##  [6,]    6   16   26   36   46   56   66   76   86    96
##  [7,]    7   17   27   37   47   57   67   77   87    97
##  [8,]    8   18   28   38   48   58   68   78   88    98
##  [9,]    9   19   29   39   49   59   69   79   89    99
## [10,]   10   20   30   40   50   60   70   80   90   100</code></pre>
</div>
</div>
<div id="more-raster-information" class="section level3">
<h3 class="hasAnchor">
<a href="#more-raster-information" class="anchor"></a>More raster information</h3>
<ul>
<li><a href="http://www.rspatial.org" class="uri">http://www.rspatial.org</a></li>
</ul>
</div>
</div>
<div id="references" class="section level2 unnumbered">
<h2 class="hasAnchor">
<a href="#references" class="anchor"></a>References</h2>
<div id="refs" class="references">
<div id="ref-EtheringtonNLMR2015">
<p>Etherington, Thomas R., E. Penelope Holland, and David O’Sullivan. 2014. “NLMpy: A Python Software Package for the Creation of Neutral Landscape Models Within a General Numerical Framework.” <em>Methods in Ecology and Evolution</em> 6 (2): 164–68. doi:<a href="https://doi.org/10.1111/2041-210X.12308">10.1111/2041-210X.12308</a>.</p>
</div>
<div id="ref-Palmer1992">
<p>Palmer, Michael W. 1992. “The Coexistence of Species in Fractal Landscapes.” <em>The American Naturalist</em> 139 (2): 375–97. doi:<a href="https://doi.org/10.1086/285332">10.1086/285332</a>.</p>
</div>
</div>
</div>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="sidebar">
        <div id="tocnav">
      <h2 class="hasAnchor">
<a href="#tocnav" class="anchor"></a>Contents</h2>
      <ul class="nav nav-pills nav-stacked">
<li><a href="#basic-landscape-generation">Basic landscape generation</a></li>
      <li><a href="#blending-landscapes">Blending landscapes</a></li>
      <li><a href="#classifying-categories">Classifying categories</a></li>
      <li><a href="#handling-raster-objects-in-r">Handling Raster* Objects in R</a></li>
      <li><a href="#references">References</a></li>
      </ul>
</div>
      </div>

</div>


      <footer><div class="copyright">
  <p>Developed by Marco Sciaini, Matthias Fritsch, Cédric Scherer, Craig Simpkins.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="http://hadley.github.io/pkgdown/">pkgdown</a>.</p>
</div>

      </footer>
</div>

  </body>
</html>
